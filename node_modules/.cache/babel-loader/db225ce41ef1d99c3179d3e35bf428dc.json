{"ast":null,"code":"import _objectSpread from\"/home/anandraj/Desktop/jabtrac/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{LOGIN_SUCCESS,LOGIN_FAIL,LOAD_USER_SUCCESS,LOAD_USER_FAILS,AUTHENTICATED_SUCCESS,AUTHENTICATED_FAIL,LOGOUT,SIGN_UP_SUCCESS,SIGN_UP_FAIL,EMPLOYEE_LIST_SUCCESS,EMPLOYEE_LIST_FAILED}from\"../Actions/Types\";var initialState={token:localStorage.getItem(\"token\"),isAuthenticated:null,user:null};export default function auth(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var type=action.type,payload=action.payload;switch(type){case LOGIN_SUCCESS:localStorage.setItem(\"token\",payload.data.token);return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,token:payload.data.token,user:payload.data.user_id});case LOAD_USER_SUCCESS:return _objectSpread(_objectSpread({},state),{},{user:payload.data.user_id});case AUTHENTICATED_SUCCESS:return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,user:payload.data.user_id});case AUTHENTICATED_FAIL:return _objectSpread(_objectSpread({},state),{},{isAuthenticated:false});case SIGN_UP_SUCCESS:return _objectSpread(_objectSpread({},state),{},{user:payload.data.user_id});case EMPLOYEE_LIST_SUCCESS:return _objectSpread(_objectSpread({},state),{},{data:payload.data});case EMPLOYEE_LIST_FAILED:return _objectSpread(_objectSpread({},state),{},{user:null});case SIGN_UP_FAIL:return _objectSpread(_objectSpread({},state),{},{user:null});case LOAD_USER_FAILS:return _objectSpread(_objectSpread({},state),{},{user:null});case LOGIN_FAIL:localStorage.removeItem(\"token\");return _objectSpread(_objectSpread({},state),{},{token:null,isAuthenticated:false,user:null});case LOGOUT:localStorage.removeItem(\"token\");return _objectSpread(_objectSpread({},state),{},{token:null,isAuthenticated:false,user:null});default:return state;}}","map":{"version":3,"sources":["/home/anandraj/Desktop/jabtrac/src/Reducers/Auth.js"],"names":["LOGIN_SUCCESS","LOGIN_FAIL","LOAD_USER_SUCCESS","LOAD_USER_FAILS","AUTHENTICATED_SUCCESS","AUTHENTICATED_FAIL","LOGOUT","SIGN_UP_SUCCESS","SIGN_UP_FAIL","EMPLOYEE_LIST_SUCCESS","EMPLOYEE_LIST_FAILED","initialState","token","localStorage","getItem","isAuthenticated","user","auth","state","action","type","payload","setItem","data","user_id","removeItem"],"mappings":"oJAAA,OACEA,aADF,CAEEC,UAFF,CAGEC,iBAHF,CAIEC,eAJF,CAKEC,qBALF,CAMEC,kBANF,CAOEC,MAPF,CAQEC,eARF,CASEC,YATF,CAUEC,qBAVF,CAWEC,oBAXF,KAYO,kBAZP,CAcA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,KAAK,CAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADY,CAEnBC,eAAe,CAAE,IAFE,CAGnBC,IAAI,CAAE,IAHa,CAArB,CAMA,cAAe,SAASC,CAAAA,IAAT,EAA4C,IAA9BC,CAAAA,KAA8B,2DAAtBP,YAAsB,IAARQ,CAAAA,MAAQ,2CACzD,GAAQC,CAAAA,IAAR,CAA0BD,MAA1B,CAAQC,IAAR,CAAcC,OAAd,CAA0BF,MAA1B,CAAcE,OAAd,CAEA,OAAQD,IAAR,EACE,IAAKpB,CAAAA,aAAL,CACEa,YAAY,CAACS,OAAb,CAAqB,OAArB,CAA8BD,OAAO,CAACE,IAAR,CAAaX,KAA3C,EACA,sCACKM,KADL,MAEEH,eAAe,CAAE,IAFnB,CAGEH,KAAK,CAAES,OAAO,CAACE,IAAR,CAAaX,KAHtB,CAIEI,IAAI,CAAEK,OAAO,CAACE,IAAR,CAAaC,OAJrB,GAOF,IAAKtB,CAAAA,iBAAL,CACE,sCACKgB,KADL,MAEEF,IAAI,CAAEK,OAAO,CAACE,IAAR,CAAaC,OAFrB,GAKF,IAAKpB,CAAAA,qBAAL,CACE,sCACKc,KADL,MAEEH,eAAe,CAAE,IAFnB,CAGEC,IAAI,CAAEK,OAAO,CAACE,IAAR,CAAaC,OAHrB,GAMF,IAAKnB,CAAAA,kBAAL,CACE,sCACKa,KADL,MAEEH,eAAe,CAAE,KAFnB,GAKF,IAAKR,CAAAA,eAAL,CACI,sCACKW,KADL,MAEEF,IAAI,CAAEK,OAAO,CAACE,IAAR,CAAaC,OAFrB,GAIJ,IAAKf,CAAAA,qBAAL,CACI,sCACKS,KADL,MAEEK,IAAI,CAAEF,OAAO,CAACE,IAFhB,GAIJ,IAAKb,CAAAA,oBAAL,CACI,sCACGQ,KADH,MAEAF,IAAI,CAAE,IAFN,GAKJ,IAAKR,CAAAA,YAAL,CACI,sCACKU,KADL,MAEEF,IAAI,CAAE,IAFR,GAKJ,IAAKb,CAAAA,eAAL,CACE,sCACKe,KADL,MAEEF,IAAI,CAAE,IAFR,GAKF,IAAKf,CAAAA,UAAL,CACEY,YAAY,CAACY,UAAb,CAAwB,OAAxB,EACA,sCACKP,KADL,MAEEN,KAAK,CAAE,IAFT,CAGEG,eAAe,CAAE,KAHnB,CAIEC,IAAI,CAAE,IAJR,GAMF,IAAKV,CAAAA,MAAL,CACEO,YAAY,CAACY,UAAb,CAAwB,OAAxB,EACA,sCACKP,KADL,MAEEN,KAAK,CAAE,IAFT,CAGEG,eAAe,CAAE,KAHnB,CAIEC,IAAI,CAAE,IAJR,GAOF,QACE,MAAOE,CAAAA,KAAP,CA3EJ,CA6ED","sourcesContent":["import {\n  LOGIN_SUCCESS,\n  LOGIN_FAIL,\n  LOAD_USER_SUCCESS,\n  LOAD_USER_FAILS,\n  AUTHENTICATED_SUCCESS,\n  AUTHENTICATED_FAIL,\n  LOGOUT,\n  SIGN_UP_SUCCESS,\n  SIGN_UP_FAIL,\n  EMPLOYEE_LIST_SUCCESS,\n  EMPLOYEE_LIST_FAILED,\n} from \"../Actions/Types\";\n\nconst initialState = {\n  token: localStorage.getItem(\"token\"),\n  isAuthenticated: null,\n  user: null,\n};\n\nexport default function auth(state = initialState, action) {\n  const { type, payload } = action;\n\n  switch (type) {\n    case LOGIN_SUCCESS:\n      localStorage.setItem(\"token\", payload.data.token);\n      return {\n        ...state,\n        isAuthenticated: true,\n        token: payload.data.token,\n        user: payload.data.user_id,\n      };\n\n    case LOAD_USER_SUCCESS:\n      return {\n        ...state,\n        user: payload.data.user_id,\n      };\n\n    case AUTHENTICATED_SUCCESS:\n      return {\n        ...state,\n        isAuthenticated: true,\n        user: payload.data.user_id,\n      };\n\n    case AUTHENTICATED_FAIL:\n      return {\n        ...state,\n        isAuthenticated: false,\n      };\n    \n    case SIGN_UP_SUCCESS:\n        return {\n          ...state,\n          user: payload.data.user_id,\n        };\n    case EMPLOYEE_LIST_SUCCESS:\n        return {\n          ...state,\n          data: payload.data,\n        };\n    case EMPLOYEE_LIST_FAILED:\n        return {\n        ...state,\n        user: null,\n        };\n\n    case SIGN_UP_FAIL:\n        return {\n          ...state,\n          user: null,\n        };\n\n    case LOAD_USER_FAILS:\n      return {\n        ...state,\n        user: null,\n      };\n\n    case LOGIN_FAIL:\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        token: null,\n        isAuthenticated: false,\n        user: null,\n      };\n    case LOGOUT:\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        token: null,\n        isAuthenticated: false,\n        user: null,\n      };\n\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}